import{r,u as R,j as e}from"./index-dL3yQH6R.js";import{b as w,a as F}from"./baseUrl-utvwXsCn.js";import{s as O}from"./localStorageHandler-AKYRjB99.js";import{L as A}from"./LandscapeContainer-g5AyfMJ9.js";const T="_registerContainer_10j1p_5",P="_inputCompleteIndicatorContainer_10j1p_27",U="_inputError_10j1p_135",y={registerContainer:T,inputCompleteIndicatorContainer:P,inputError:U},M=({firstName:l,secondName:f,dateOfBirth:c,age:_,password:n})=>{const[d,o]=r.useState(""),[m,i]=r.useState(!1),[v,u]=r.useState(""),[x,C]=r.useState(!1),N=R(),E=async g=>{g.preventDefault(),C(!0);try{if(i(!1),d){const s=await F.post(`${w}/auth/register`,{user_name:d,first_name:l,last_name:f,date_of_birth:c,age:_,password:n}),{status:I,data:S}=s;if(I===201){const t={authToken:S.authToken,userName:S.user.user_name},a=JSON.stringify(t);O(a),N("/dashboard")}}}catch(s){console.log(s),i(!0),s.response?s.response.status===400&&u("To create an account please enter a unique username this username already exists in the database"):s.request?(console.error(`No response received:, ${s.request}`),u("An Unexpected Error Occurred Probably a network network, Please Try Again")):(console.error(`Error:, ${s.message}`),u("An Unexpected Has Error Occured"))}finally{C(!1)}};return e.jsxs("section",{className:y.registerContainer,children:[e.jsxs("div",{className:y.inputCompleteIndicatorContainer,children:[e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{})]}),e.jsxs("form",{children:[e.jsx("input",{className:m?y.inputError:"",onChange:g=>{o(g.target.value)},value:d,type:"text",placeholder:"USERNAME"}),e.jsxs("div",{children:[m&&e.jsx("p",{children:v}),e.jsx("button",{disabled:!d||x,onClick:E,children:x?"Registering....":"CREATE AN ACCOUNT"})]})]}),e.jsx("div",{children:e.jsx(A,{})})]})},k="_getStartedContainer_aeuj1_5",$="_inputCompleteIndicatorContainer_aeuj1_25",H="_isFilled_aeuj1_59",L="_dateNotSelected_aeuj1_115",q="_dateSelected_aeuj1_123",h={getStartedContainer:k,inputCompleteIndicatorContainer:$,isFilled:H,dateNotSelected:L,dateSelected:q},J=()=>{const[l,f]=r.useState(""),[c,_]=r.useState(""),[n,d]=r.useState(""),[o,m]=r.useState(""),[i,v]=r.useState(""),[u,x]=r.useState([!1,!1,!1,!1,!1]),[C,N]=r.useState(0),[E,g]=r.useState(!1),s=(t,a,p)=>{t(a);const j=u.map((b,D)=>D===p?a!=="":b);x(j)},I=t=>{if(t.preventDefault(),!l||!c||!n||!o||!i){console.log("Complete All Fields");return}if(o!==i){console.log("Passwords don't match");return}const a=S(n);N(a),g(!0)},S=t=>{const a=new Date(t),p=new Date;let j=p.getFullYear()-a.getFullYear();return(p.getMonth()<a.getMonth()||p.getMonth()===a.getMonth()&&p.getDate()<a.getDate())&&j--,j};return E?e.jsx(M,{firstName:l,secondName:c,dateOfBirth:n,age:C,password:o}):e.jsxs("section",{className:h.getStartedContainer,children:[e.jsx("div",{className:h.inputCompleteIndicatorContainer,children:u.map((t,a)=>e.jsx("div",{className:t?h.isFilled:""},a))}),e.jsxs("form",{children:[e.jsx("input",{onChange:t=>s(f,t.target.value,0),value:l,type:"text",placeholder:"FIRST NAME"}),e.jsx("input",{onChange:t=>s(_,t.target.value,1),value:c,type:"text",placeholder:"LAST NAME"}),e.jsx("label",{children:"DATE OF BIRTH"}),e.jsx("input",{className:n===""?`${h.dateNotSelected}`:`${h.dateSelected}`,onChange:t=>s(d,t.target.value,2),value:n,type:"date"}),e.jsx("input",{onChange:t=>s(m,t.target.value,3),value:o,type:"password",placeholder:"PASSWORD"}),e.jsx("input",{onChange:t=>s(v,t.target.value,4),value:i,type:"password",placeholder:"CONFIRM PASSWORD"}),e.jsx("div",{children:e.jsx("button",{onClick:I,disabled:!l||!c||!n||!o||!i,children:"CONTINUE"})})]}),e.jsx("div",{children:e.jsx(A,{})})]})};export{J as default};
